{"version":3,"sources":["browser/views/blog.cljs"],"mappings":";AAMA,AAAKA,yCAAoB,gDAAA,hDAACC;AAE1B,0BAAA,1BAAMC,4DAAMC;AAAZ,AACE,IAAMC,QAAM,4CAAA,WAAAC,vDAACC;AAAD,AAAM,OAAA,8FAAAD;GAAgB,AAAA,mFAAA,AAAAE,gBAAQJ;IACpCK,aAAW,AAACC,cAAI,AAACC,6CAAK,AAACC,kBAAQ,4CAAA,WAAAC,vDAACN;AAAD,AAAM,OAAA,2FAAAM;GAAcR;IACnDS,gBAAW,WAAKC;AAAL,AAAW,IAAAC,WAAA;IAAAC,WAAA,2CAAA,qDAEO,AAAA,mFAAOF;IAFdG,eAAC,AAAA,+FAAA,AAAAV,gBAAcJ;AAAf,AAAA,QAAAc,6CAAAA,2CAAAF,SAAAC,YAAAC,uBAAAF,SAAAC;;AAF5B,AAKE,+CAAA,gBAAA,mFAAA,6IAAA,mFAAA,3WAACE,8LAGC,AAACC,uCAAiBnB,uCAAoBQ,kJAErC,AAACF,4CAAK,WAAKc;AAAL,AAAA,0FAAA,mDAAA,2CAAA,wDAAA,wBAAA,+EAAA,mFAAA,iDAAA,2CAAA,wDAAA,iDAAA,mFAAA,mDAAA,2CAAA,wDAAA,5hBAC6C,AAACC,gBAAMD,wQACrB,AAACC,gBAAMD,yQAElC,AAACd,4CACA,AAACgB,gDAAQC,wCAAkBV,eAC3B,AAACW,iBAAOJ;GACb,AAACK,mCAAmB,8CAAA,AAAAlB,9CAACmB,8DAA+B1B,wCAAoBI","names":["browser.views.blog/selected-categories","reagent.core.atom","browser.views.blog/main","app-state","music","p1__33745#","cljs.core.map","cljs.core/deref","categories","cljs.core/set","cljs.core.sort","cljs.core/flatten","p1__33746#","post->href","post","G__33749","G__33750","fexpr__33748","browser.views.helpers/make-archive-page","browser.views.helpers/print-categories","m","cljs.core/first","cljs.core.partial","browser.views.helpers/make-archive-item","cljs.core/second","browser.helpers/sort-entry-by-year","browser.helpers/filter-by-selected-categories"],"sourcesContent":["(ns browser.views.blog\n  (:require [browser.views.helpers :refer [make-archive-page make-archive-item print-categories]]\n            [reagent.core :as r]\n            [browser.helpers :refer [year sort-entry-by-year filter-by-selected-categories toggle-category]]))\n\n\n(def selected-categories (r/atom []))\n\n(defn main [app-state]\n  (let [music (map #(:attributes %) (:blog @app-state))\n        categories (set (sort (flatten (map #(:category %) music))))\n        post->href (fn [post] ((:routing-fn @app-state)\n                              :browser.routes/blog-single\n                              {:slug (:slug post)}))]\n    (make-archive-page\n     \"Bit\u00e1cora\"\n     [:div\n      (print-categories selected-categories categories)\n      [:div\n       (map  (fn [m]\n               [:div {:class \"music__year-container\" :key (first m)}\n                [:h2 {:class \"music__year\"} (first m)] ; prints year\n                [:div {:class \"music-work\"}            ; prints work\n                 (map\n                  (partial make-archive-item post->href)\n                  (second m))]])\n             (sort-entry-by-year (filter-by-selected-categories @selected-categories music)))]])))\n"]}