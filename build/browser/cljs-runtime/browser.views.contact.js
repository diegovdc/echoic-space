goog.provide('browser.views.contact');
var module$node_modules$axios$dist$browser$axios_cjs=shadow.js.require("module$node_modules$axios$dist$browser$axios_cjs", {});
browser.views.contact.form_state = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
browser.views.contact.on_change = (function browser$views$contact$on_change(key,event){
return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(browser.views.contact.form_state,cljs.core.assoc,key,event.target.value);
});
browser.views.contact.api_base = (cljs.core.truth_(goog.DEBUG)?"http://localhost:9000":"");
browser.views.contact.send_email = (function browser$views$contact$send_email(form_state,ev){
ev.preventDefault();

cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$variadic(form_state,cljs.core.assoc,new cljs.core.Keyword(null,"sending?","sending?",59171526),true,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(null,"language","language",-1591107564),cljs.core.first(clojure.string.split.cljs$core$IFn$_invoke$arity$2(navigator.language,"-"))], 0));

return module$node_modules$axios$dist$browser$axios_cjs.post([browser.views.contact.api_base,"/.netlify/functions/contact"].join(''),cljs.core.clj__GT_js(cljs.core.deref(form_state))).then((function (){
return cljs.core.reset_BANG_(form_state,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"sent?","sent?",1251086682),true], null));
})).catch((function (error){
return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$variadic(form_state,cljs.core.assoc,new cljs.core.Keyword(null,"error?","error?",-460689159),true,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(null,"sending?","sending?",59171526),false], 0));
}));
});
browser.views.contact.links = (function browser$views$contact$links(app_state){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"contact__links"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"https://t.me/diegovideco",new cljs.core.Keyword(null,"target","target",253001721),"_blank"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i","i",-1386841315),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),"fa fa-telegram",new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),"true"], null)], null)," @diegovideco"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"https://twitter.com/diegovideco",new cljs.core.Keyword(null,"target","target",253001721),"_blank"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i","i",-1386841315),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),"fa fa-twitter",new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),"true"], null)], null)," @diegovideco"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"https://echoic-space.bandcamp.com/",new cljs.core.Keyword(null,"target","target",253001721),"_blank"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i","i",-1386841315),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),"fa fa-bandcamp",new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),"true"], null)], null)," Bandcamp"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"https://github.com/diegovdc",new cljs.core.Keyword(null,"target","target",253001721),"_blank"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i","i",-1386841315),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),"fa fa-github",new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),"true"], null)], null)," Github"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),(function (){var fexpr__33752 = new cljs.core.Keyword(null,"routing-fn","routing-fn",1896294414).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(app_state));
return (fexpr__33752.cljs$core$IFn$_invoke$arity$1 ? fexpr__33752.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("browser.routes","mailing-list","browser.routes/mailing-list",-956914558)) : fexpr__33752.call(null,new cljs.core.Keyword("browser.routes","mailing-list","browser.routes/mailing-list",-956914558)));
})()], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i","i",-1386841315),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),"fa fa-envelope",new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),"true"], null)], null)," Mailing List"], null)], null)], null);
});
browser.views.contact.form = (function browser$views$contact$form(){
return new cljs.core.PersistentVector(null, 10, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form","form",-1624062471),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),"contact__form",new cljs.core.Keyword(null,"on-submit","on-submit",1227871159),cljs.core.partial.cljs$core$IFn$_invoke$arity$2(browser.views.contact.send_email,browser.views.contact.form_state)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label","label",1718410804),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"for","for",-1323786319),"email",new cljs.core.Keyword(null,"class","class",-2030961996),"contact__label"], null),"Email *",new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"id","id",-1388402092),"email",new cljs.core.Keyword(null,"type","type",1174270348),"email",new cljs.core.Keyword(null,"class","class",-2030961996),"contact__input",new cljs.core.Keyword(null,"required","required",1807647006),true,new cljs.core.Keyword(null,"value","value",305978217),(function (){var fexpr__33754 = cljs.core.deref(browser.views.contact.form_state);
return (fexpr__33754.cljs$core$IFn$_invoke$arity$1 ? fexpr__33754.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"email","email",1415816706)) : fexpr__33754.call(null,new cljs.core.Keyword(null,"email","email",1415816706)));
})(),new cljs.core.Keyword(null,"on-change","on-change",-732046149),cljs.core.partial.cljs$core$IFn$_invoke$arity$2(browser.views.contact.on_change,new cljs.core.Keyword(null,"email","email",1415816706))], null)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label","label",1718410804),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"for","for",-1323786319),"name",new cljs.core.Keyword(null,"class","class",-2030961996),"contact__label"], null),"Nombre ",new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"(opcional)"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"id","id",-1388402092),"name",new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"class","class",-2030961996),"contact__input",new cljs.core.Keyword(null,"value","value",305978217),(function (){var fexpr__33755 = cljs.core.deref(browser.views.contact.form_state);
return (fexpr__33755.cljs$core$IFn$_invoke$arity$1 ? fexpr__33755.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"name","name",1843675177)) : fexpr__33755.call(null,new cljs.core.Keyword(null,"name","name",1843675177)));
})(),new cljs.core.Keyword(null,"on-change","on-change",-732046149),cljs.core.partial.cljs$core$IFn$_invoke$arity$2(browser.views.contact.on_change,new cljs.core.Keyword(null,"name","name",1843675177))], null)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label","label",1718410804),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"for","for",-1323786319),"subject",new cljs.core.Keyword(null,"class","class",-2030961996),"contact__label"], null),"Asunto ",new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"(opcional)"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"id","id",-1388402092),"subject",new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"class","class",-2030961996),"contact__input",new cljs.core.Keyword(null,"value","value",305978217),(function (){var fexpr__33756 = cljs.core.deref(browser.views.contact.form_state);
return (fexpr__33756.cljs$core$IFn$_invoke$arity$1 ? fexpr__33756.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"subject","subject",-1411880451)) : fexpr__33756.call(null,new cljs.core.Keyword(null,"subject","subject",-1411880451)));
})(),new cljs.core.Keyword(null,"on-change","on-change",-732046149),cljs.core.partial.cljs$core$IFn$_invoke$arity$2(browser.views.contact.on_change,new cljs.core.Keyword(null,"subject","subject",-1411880451))], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label","label",1718410804),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"for","for",-1323786319),"message",new cljs.core.Keyword(null,"class","class",-2030961996),"contact__label"], null),"Mensaje *",new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"textarea","textarea",-650375824),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"id","id",-1388402092),"message",new cljs.core.Keyword(null,"class","class",-2030961996),"contact__textarea",new cljs.core.Keyword(null,"required","required",1807647006),true,new cljs.core.Keyword(null,"value","value",305978217),(function (){var fexpr__33757 = cljs.core.deref(browser.views.contact.form_state);
return (fexpr__33757.cljs$core$IFn$_invoke$arity$1 ? fexpr__33757.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"message","message",-406056002)) : fexpr__33757.call(null,new cljs.core.Keyword(null,"message","message",-406056002)));
})(),new cljs.core.Keyword(null,"on-change","on-change",-732046149),cljs.core.partial.cljs$core$IFn$_invoke$arity$2(browser.views.contact.on_change,new cljs.core.Keyword(null,"message","message",-406056002))], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"id","id",-1388402092),"subscribe",new cljs.core.Keyword(null,"type","type",1174270348),"checkbox",new cljs.core.Keyword(null,"class","class",-2030961996),"contact__checkbox",new cljs.core.Keyword(null,"checked","checked",-50955819),(function (){var fexpr__33758 = cljs.core.deref(browser.views.contact.form_state);
return (fexpr__33758.cljs$core$IFn$_invoke$arity$1 ? fexpr__33758.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"subscribe","subscribe",416253756)) : fexpr__33758.call(null,new cljs.core.Keyword(null,"subscribe","subscribe",416253756)));
})(),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__33753_SHARP_){
return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(browser.views.contact.form_state,cljs.core.assoc,new cljs.core.Keyword(null,"subscribe","subscribe",416253756),p1__33753_SHARP_.target.checked);
})], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label","label",1718410804),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"for","for",-1323786319),"subscribe",new cljs.core.Keyword(null,"class","class",-2030961996),"contact__label checkbox__label"], null),"Suscribirme a la lista de correos"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button","button",1456579943),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),"button",new cljs.core.Keyword(null,"disabled","disabled",-1529784218),(function (){var fexpr__33759 = cljs.core.deref(browser.views.contact.form_state);
return (fexpr__33759.cljs$core$IFn$_invoke$arity$1 ? fexpr__33759.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"sending?","sending?",59171526)) : fexpr__33759.call(null,new cljs.core.Keyword(null,"sending?","sending?",59171526)));
})()], null),"Enviar"], null),(cljs.core.truth_((function (){var fexpr__33760 = cljs.core.deref(browser.views.contact.form_state);
return (fexpr__33760.cljs$core$IFn$_invoke$arity$1 ? fexpr__33760.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"sent?","sent?",1251086682)) : fexpr__33760.call(null,new cljs.core.Keyword(null,"sent?","sent?",1251086682)));
})())?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"text-align","text-align",1786091845),"center"], null)], null),"Thanks, I'll be in touch soon!"], null):null),(cljs.core.truth_((function (){var fexpr__33761 = cljs.core.deref(browser.views.contact.form_state);
return (fexpr__33761.cljs$core$IFn$_invoke$arity$1 ? fexpr__33761.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"error?","error?",-460689159)) : fexpr__33761.call(null,new cljs.core.Keyword(null,"error?","error?",-460689159)));
})())?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"text-align","text-align",1786091845),"center"], null),new cljs.core.Keyword(null,"class","class",-2030961996),"text-red"], null),"There was an error when sending you message, please try again."], null):null)], null);
});
browser.views.contact.main = (function browser$views$contact$main(app_state){
return browser.views.helpers.page_container("contact pt-40",new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h1","h1",-1896887462),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"contact__ttl"], null),"Contacto"], null),browser.views.contact.links(app_state),browser.views.contact.form()], null));
});

//# sourceMappingURL=browser.views.contact.js.map
